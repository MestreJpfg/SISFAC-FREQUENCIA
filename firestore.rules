/**
 * @file Overview
 * This ruleset enforces a public read-only model for student and attendance data.
 * All `get` and `list` operations are publicly accessible without authentication.
 * Write operations are disabled to prevent unauthorized data modification.
 *
 * @dataStructure
 * - `/students/{studentId}`: Stores student profiles.
 * - `/attendance/{attendanceId}`: Stores attendance records.
 *
 * @keySecurityDecisions
 * - Public read access for all students and attendance records.
 * - No write access is granted to any user.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read (get and list) students, but prevents anyone from creating, updating, or deleting them.
     * @path /students/{studentId}
     * @allow (get, list) Any user can read student data.
     * @deny (create, update, delete) No user can create, update or delete student data.
     * @principle Public read, no writes allowed.
     */
    match /students/{studentId} {
      allow get: if true;
      allow list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read (get and list) attendance records, but prevents anyone from creating, updating, or deleting them.
     * @path /attendance/{attendanceId}
     * @allow (get, list) Any user can read attendance data.
     * @deny (create, update, delete) No user can create, update or delete attendance data.
     * @principle Public read, no writes allowed.
     */
    match /attendance/{attendanceId} {
      allow get: if true;
      allow list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }
  }
}