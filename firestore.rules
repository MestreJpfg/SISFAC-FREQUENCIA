/**
 * @file Firebase Security Rules for Attendance Tracker
 * @corePhilosophy This ruleset provides open read access to attendance records, allowing anyone to see attendance data.
 * It also allows anyone to read student records.
 * All write operations are disabled.
 * @dataStructure Attendance records are stored in the `/attendance/{attendanceId}` collection.
 * Student records are stored in the `/students/{studentId}` collection.
 * @keySecurityDecisions No write access is allowed.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read attendance records, but prohibits any writes.
     * @path /attendance/{attendanceId}
     * @allow (get, list) Any user can read attendance records.
     * @deny (create, update, delete) No user can create, update, or delete attendance records.
     * @principle Grants public read access and restricts all write access.
     */
    match /attendance/{attendanceId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read student records, but prohibits any writes.
     * @path /students/{studentId}
     * @allow (get, list) Any user can read student records.
     * @deny (create, update, delete) No user can create, update, or delete student records.
     * @principle Grants public read access and restricts all write access.
     */
    match /students/{studentId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }
  }
}