/**
 * @fileoverview Firestore Security Rules for the school attendance tracker.
 *
 * Core Philosophy:
 * This ruleset is in prototyping mode to allow any read and write operations.
 * This will be updated later to improve the security.
 *
 * Data Structure:
 * - /students/{studentId}: Stores student data, with 'studentId' as the document ID.
 * - /attendance_records/{attendanceRecordId}: Stores attendance records, with 'attendanceRecordId' as the document ID.
 *
 * Key Security Decisions:
 * - All read and write operations are currently allowed.
 *
 * Denormalization for Authorization:
 * - Not applicable, as no authorization is being enforced yet.
 *
 * Structural Segregation:
 * - Students and attendance records are stored in separate, top-level collections.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows any read and write operations to students collection.
     * @path /students/{studentId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny None
     * @principle Prototyping mode: all access is allowed.
     */
    match /students/{studentId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows any read and write operations to attendance records collection.
     * @path /attendance_records/{attendanceRecordId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny None
     * @principle Prototyping mode: all access is allowed.
     */
    match /attendance_records/{attendanceRecordId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}