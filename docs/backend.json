
{
  "entities": {
    "Student": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Student",
      "type": "object",
      "description": "Represents a student in the school attendance tracker.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The student's full name."
        },
        "grade": {
          "type": "string",
          "description": "The grade the student is in (e.g., '9º Ano')."
        },
        "class": {
          "type": "string",
          "description": "The class the student is in (e.g., 'A')."
        },
        "shift": {
          "type": "string",
          "description": "The shift the student attends (e.g., 'Manhã')."
        },
        "ensino": {
          "type": "string",
          "description": "The education level the student is in (e.g., 'Fundamental', 'Médio')."
        },
        "telefone": {
          "type": "string",
          "description": "The student's phone number(s). Multiple numbers can be separated by commas."
        }
      },
      "required": [
        "name",
        "grade",
        "class",
        "shift",
        "ensino"
      ]
    },
    "AttendanceRecord": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AttendanceRecord",
      "type": "object",
      "description": "Represents a single attendance record for a student on a specific date. This entity requires composite indexes for efficient querying on reports.",
      "properties": {
        "studentId": {
          "type": "string",
          "description": "The ID of the student this record belongs to."
        },
        "studentName": {
          "type": "string",
          "description": "The name of the student for easier querying."
        },
        "date": {
          "type": "string",
          "description": "The date of the attendance record in YYYY-MM-DD format.",
          "format": "date"
        },
        "status": {
          "type": "string",
          "description": "Indicates whether the student was present or absent.",
          "enum": [
            "present",
            "absent"
          ]
        },
        "ensino": {
          "type": "string",
          "description": "The education level of the student at the time of the record."
        },
        "grade": {
          "type": "string",
          "description": "The grade of the student at the time of the record."
        },
        "class": {
          "type": "string",
          "description": "The class of the student at the time of the record."
        },
        "shift": {
          "type": "string",
          "description": "The shift of the student at the time of the record."
        },
        "telefone": {
            "type": "string",
            "description": "The student's phone number(s) at the time of the record."
        }
      },
      "required": [
        "studentId",
        "studentName",
        "date",
        "status",
        "ensino",
        "grade",
        "class",
        "shift"
      ]
    },
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user profile for app personalization. Access control is not enforced.",
      "properties": {
        "username": {
          "type": "string",
          "description": "The user's unique username."
        },
        "password": {
          "type": "string",
          "description": "The user's password for login. This should be stored securely if used in a real application."
        },
        "fullName": {
          "type": "string",
          "description": "The user's full name."
        },
        "jobTitle": {
          "type": "string",
          "description": "The user's job title or function within the school."
        },
        "age": {
          "type": "number",
          "description": "The user's age."
        },
        "avatarUrl": {
          "type": "string",
          "description": "URL or Base64 data URI of the user's profile picture."
        },
        "bio": {
            "type": "string",
            "description": "A short biography of the user."
        },
        "dataNascimento": {
            "type": "string",
            "format": "date",
            "description": "User's date of birth."
        },
        "telefonePessoal": {
            "type": "string",
            "description": "User's personal phone number."
        },
        "endereco": {
            "type": "object",
            "description": "User's home address.",
            "properties": {
                "rua": {"type": "string"},
                "cidade": {"type": "string"},
                "estado": {"type": "string"},
                "cep": {"type": "string"}
            }
        },
        "departamento": {
            "type": "string",
            "description": "The department the user works in."
        },
        "dataAdmissao": {
            "type": "string",
            "format": "date",
            "description": "The date the user was hired."
        },
        "emailProfissional": {
            "type": "string",
            "format": "email",
            "description": "User's professional email address."
        }
      },
      "required": [
        "username",
        "password"
      ]
    }
  },
  "auth": {
    "providers": []
  },
  "firestore": {
    "/students/{studentId}": {
      "schema": {
        "$ref": "#/entities/Student"
      },
      "description": "Stores individual student data."
    },
    "/attendance/{attendanceId}": {
      "schema": {
        "$ref": "#/entities/AttendanceRecord"
      },
      "description": "Stores individual attendance records."
    },
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores user profile data for personalization."
    }
  }
}
